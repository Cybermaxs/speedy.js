!function(t){this.w=t,this.stats=null,this.container=null;var e={reset:"font-size:12px;z-index:99999;text-align:left;font-family:Calibri,'Lucida Grande',Arial,sans-serif;text-shadow:none;box-shadow:none;display:inline-block;color:#444;font-weight:normal;border:none;margin:0;padding:0;background:none;",element:"position:fixed;margin:0;top: 0;left:0;border-bottom:solid 1px #EFCEA1;box-shadow:2px 2px 5px rgba(0,0,0,.1);",container:"background:#FFFDF2;background:rgba(255,253,242,.99);padding:2px;display:block;cursor:pointer;",header:"font-size:12px;font-weight:normal;margin:0 ;"},n=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","unloadEventStart","unloadEventEnd","domLoading","domInteractive","msFirstPaint","domContentLoadedEventStart","domContentLoadedEventEnd","domContentLoaded","domComplete","loadEventStart","loadEventEnd"],o=["redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd"],r=[{name:"network",color:[224,84,63],firstEventIndex:n.indexOf("navigationStart"),lastEventIndex:n.indexOf("connectEnd")},{name:"server",color:[255,188,0],firstEventIndex:n.indexOf("requestStart"),lastEventIndex:n.indexOf("responseEnd")},{name:"browser",color:[16,173,171],firstEventIndex:n.indexOf("unloadEventStart"),lastEventIndex:n.indexOf("loadEventEnd")}],i=([{name:"network",color:[224,84,63],firstEventIndex:o.indexOf("redirectStart"),lastEventIndex:o.indexOf("connectEnd")},{name:"server",color:[255,188,0],firstEventIndex:o.indexOf("requestStart"),lastEventIndex:o.indexOf("responseEnd")}],function(t){var e=Object.keys(t);return e.length?e:Object.keys(Object.getPrototypeOf(t))}),a=function(){for(var t=this.w.performance,e=t.timing,n=i(e),o={},r=e.navigationStart||0,a=0,s=0,d=n.length;d>s;s++){var c=e[n[s]];c&&c>0&&(a=c-r,o[n[s]]={time:a})}return o},s=function(){var t=document.createElement("div"),n=document.createElement("span"),o="";if(this.w.performance&&this.stats){for(var r=0,i=this.stats.sections.length;i>r;r++)o+='<span style="color:rgb('+this.stats.sections[r].color.join(",")+')">'+this.stats.sections[r].duration+" ("+this.stats.sections[r].name+") </span> "+(i-1>r?" + ":"");var a=this.w.performance.getEntries?" ("+stats.ressources.length+" resx) ":"";o='<span style="font-weight:bold">'+this.stats.totaltime+" ms"+a+"</span>  = "+o}else o="Your browser does not support Navigation Timing API.";return n.innerHTML=o,n.style.cssText=e.reset+e.header,t.appendChild(n),t},d=function(){var t=this.w.document.createElement("div"),n=s();return t.onclick=function(){t.onclick=null,t.parentNode.removeChild(t)},t.style.cssText=e.reset+e.container+e.element,t.appendChild(n),t},c=function(){var t={totaltime:0,sections:[],ressources:[]};if(this.w.performance){for(var e=a(),o=0,i=r.length;i>o;o++){var s=r[o].firstEventIndex,d=r[o].lastEventIndex,c=n.slice(s,d+1),l=c.filter(function(t){return e.hasOwnProperty(t)});l.sort(function(t,n){return e[t].time-e[n].time}),s=l[0],d=l[l.length-1],t.sections.push({name:r[o].name,duration:e[d].time-e[s].time,color:r[o].color});for(var f=0,m=l.length;m>f;f++){var u=l[f];e[u]&&(e[u].sectionIndex=o)}}for(var p in t.sections)t.totaltime+=t.sections[p].duration;this.w.performance.getEntries&&(t.ressources=this.w.performance.getEntriesByType("resource").map(function(t){return{name:t.name,duration:t.duration}}))}this.stats=t},l=function(){this.stats||c(),this.container||(this.container=d(),document.body.appendChild(container))},f=function(t){var e=this.w.onload;this.w.onload="function"!=typeof this.w.onload?t:function(){e&&e(),t()}};"complete"===this.w.document.readyState?l():f(l)}(window);